<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<base href="../" />
<link rel="stylesheet" href="style.css" type="text/css" />
<script src="google-code-prettify/prettify.js"></script>
<script src="lang-jsx.js"></script>
<script>
  $(function() {
    prettyPrint();
  });
</script>
<link rel="stylesheet" href="google-code-prettify/prettify.css" type="text/css" />

<title>Using the Profiler - JSX</title>


<!-- oktavia -->
<link rel="stylesheet" href="searchstyle.css" type="text/css" />
<script src="search/jquery-1.9.1.min.js"></script>
<script src="search/oktavia-jquery-ui.js"></script>
<script src="search/oktavia-english-search.js"></script>
<!-- /oktavia -->
</head>
<body>
<div id="body">
<div id="top">
<h1><a href="./">JSX</a></h1>
a faster, safer, easier JavaScript

<!-- oktavia -->
<form id="searchform">
<input class="search" type="search" name="search" id="search" results="5" value="" placeholder="Search" />
<div id="searchresult_box">
<div id="close_search_box">&times;</div>
<div id="searchresult_summary"></div>
<div id="searchresult"></div>
<div id="searchresult_nav"></div>
<span class="pr">Powered by <a href="https://github.com/shibukawa/oktavia">Oktavia</a></span>
</div>
</form>
<!-- /oktavia -->

</div>
<table id="menu">
<tr>
<td><a href="try-on-web/" target="_blank">Try</a></td>
<td><a href="https://github.com/jsx/JSX/" target="_blank">Repository</a></td>
<td class="selected"><a href="doc.html">Documents</a></td>
<td><a href="faq.html">FAQ</a></td>
</tr>
</table>

<div id="breadcrumb">
<a href="doc.html">Documents</a> &gt;
Using the Profiler
</div>


<div id="main">

<h2>Using the Profiler</h2>

<p>
JSX has a built-in profiler that helps the developers track down the bottlenecks and tune their web applications.  The profiler is able to display the results in three modes: Call Tree, Interted Call Tree, Functions.  For each function, call count, inclusive and exclusive times spent are displayed.
</p>

<a href="images/profiler.png"><img class="doc-image" src="images/profiler.png" width="400" height="300" /></a>

<h3>Profiling the Application</h3>

<p>
Follow the steps to profile your application.
</p>

<p>
<em>Step 1.</em> Add code that uploads the profile.  The code snippet below will post the profile information to the profile server running at <code>localhost:2012</code> after running the application for 10 seconds (10,000 milliseconds).
</p>

<pre class="prettyprint"><code class="language-jsx">if (JSX.profilerIsRunning()) {
    dom.window.setTimeout(function () : void {
        JSX.postProfileResults(&quot;http://localhost:2012/post-profile&quot;);
    }, 10000);
}
</code></pre>

<p>
<em>Step 2.</em> Compile the application with <code>--profile</code>.
</p>

<pre class="prettyprint"><code class="language-bash">$ jsx --profile --release mywebapp.jsx
</code></pre>

<p>
<em>Step 3.</em> Run the profile server.  The server will bind to TCP port 2012.
</p>

<pre class="prettyprint"><code class="language-bash">$ make server
# or `make server PORT=8080` will listen the port 8080
</code></pre>

<p>
<em>Step 4.</em> Run the application.  When <code>JSX.postProfileRelust()</code> succeeds, you wil find a line like below in the console.
</p>

<pre class="prettyprint"><code class="language-bash">Open http://localhost:2012/web/profiler.html?20120626010422
</code></pre>

<p>
<em>Step 5.</em> Open the URL specified in the console, and you will find the profile results.
</p>

</div>


<div id="footer">
Copyright &copy; 2012 <a href="http://dena.com/intl/">DeNA Co., Ltd.</a>
</div>

</body>
</html>
